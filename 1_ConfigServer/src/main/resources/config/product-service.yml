spring:
 datasource:
  url: jdbc:mysql://localhost:3306/productdb
#  username: root
  username: productdb
  password: root
 jpa:
  hibernate:
   ddl-auto: create
   properties:
    format_sql: true
  show-sql: true
  
# rabbitmq:
#  host: localhost
#  port: 5672
#  username: guest
#  password: guest
#    
#management:
#   endpoints:
#     web:
#      exposure:
#       include: "*"

server:
 port: 8093  

eureka:
 client:
   serviceUrl: 
    defaultZone: http://localhost:8761/eureka
   register-with-eureka: true
   fetch-registry: true
   
logging:
 level:
  root: INFO
 file:
   name: logs/${spring.application.name}.log
 logback:
  rollingpolicy:
   max-file-size: 5MB
   max-history: 1
 
management:
   endpoints:
     web:
      exposure:
       include: "*" 
   endpoint:
    health:
     show-details: always	   
   health:
    circuitbreakers:
      enabled: true
   tracing:
     sampling:
       probability: 1.0  

# Circuite breaker 

resilience4j:
 circuitbreaker:
   instances:
     ecomServiceBreaker:
        registerHealthIndicator: true
        slidingWindowType: count_based
        slidingWindowSize: 10
        minimumNumberOfCalls: 10
        failureRateThreshold: 70
        waitDurationInOpenState: 5s
        permittedNumberOfCallsInHalfOpenState: 2
        slowCallRateThreshold: 50
        slowCallDurationThreshold: 10000
        automaticTransitionFromOpenToHalfOpenEnabled: true 

#url: ${URL}
# username: ${USERNAME}
# password: ${PASSWORD}
# 
#jpa:
# hibernate:
#  ddl-auto: ${DDL-AUTO}
# properties:
#  format_sql: ${FORMAT-SQL}